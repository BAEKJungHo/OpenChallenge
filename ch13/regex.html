<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>회원가입</title>
  <style>
    table { border : 2px solid blue; background-color : lightblue; }
    caption { font-size : 1.5em; }
    div { background-color : yellowgreen; }
    td { width : 100px; }
    #idn, #pw, #correctPassword, #userEmail, #cellPhone { width : 270px; }
  </style>
  <script>
    var text = "";
    var count = 0;
    function check() {
      count++; // 배열 비우기 위한 변수
      // DOM 객체 찾기
      var idn = document.getElementById("idn");
      var pw = document.getElementById("pw");
      var correctPassword = document.getElementById("correctPassword");
      var userEmail = document.getElementById("userEmail");
      var cellPhone = document.getElementById("cellPhone");

      // 정규 표현식
      var idPattern = /^[A-Za-z]{1}[A-Za-z0-9]{3,19}$/;
      var pwPattern = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,16}$/;
      var emailPattern = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
      var phonePattern = /(^02.{0}|^01.{1}|[0-9]{3})([0-9]+)([0-9]{4})/g;

      // 아이디
      if(idPattern.test(idn.value) == true){
        text += "ID : " + idn.value + "\n";
      }
      else alert("아이디를 잘못 입력 하셨습니다.");

      // 패스워드
      if(pwPattern.test(pw.value) == true){
        if(pwPattern.test(correctPassword.value) == true){
          if(pw.value == correctPassword.value){
            text += "PW : " + pw.value + "\n";
          }
        }
        else alert("패스워드가 일치 하지 않습니다.");
      }
      else alert("패스워드를 잘못 입력 하셨습니다.");

      // 이메일
      if(emailPattern.test(userEmail.value) == true){
        text += "EMAIL : " + userEmail.value + "\n";
      }
      else alert("이메일을 잘못 입력 하셨습니다.");

      // 휴대폰 번호
      if(phonePattern.test(cellPhone.value) == true){
        text += "PHONE : " + cellPhone.value + "\n";
      }
      else alert("번호를 잘못 입력 하셨습니다.");

      alert(text); // 입력정보출력

      // 이전에 입력했던 회원정보를 비우기
      if(count == 0+count)
        text = [];
    }

    // 클리어
    function inputClear() {
      document.getElementById("fm").reset();
    }
  </script>
</head>
<body>
  <form id="fm">
    <table>
      <caption>회원가입</caption>
      <tr><td>아이디</td><td><input type="text" id="idn" placeholder="첫글자는 영어 3글자 이상"></td><td>&nbsp</td>
          <td><input type="button" id="button" value="유효성 확인" onclick="check()"></td></tr>
      <tr><td>패스워드</td><td><input type="text" id="pw"  placeholder="영어+특수문자+숫자를 섞어서 (8~16)자리"></td><td>&nbsp</td>
          <td><input type="button" id="button1" value="클리어" onclick="inputClear()"></td></tr>
      <tr><td>패스워드확인</td><td><input type="text" id="correctPassword" placeholder="영어+특수문자+숫자를 섞어서 (8~16)자리"></td></tr>
      <tr><td>이메일</td><td><input type="text" id="userEmail" placeholder="@"></td></tr>
      <tr><td>휴대폰</td><td><input type="text" id="cellPhone" placeholder="(-) 빼고 번호만 입력"></td></tr>
    </table>
  </form>
</body>
</html>
